<!doctype html>
<html lang="en" ng-app="ply2gt4">
    <head>
        <script src='https://cdn.firebase.com/v0/firebase.js'></script>
        <script src='/static/js/swfobject.js'></script>
    </head>

    <body>

        <!-- ko if: loaded -->

        <h3>ply2gt4 | <span data-bind="text: roomName"></span> | <span data-bind="text: username"></span></h3>

        <div>
            <h1>
                Now Playing 
                <span data-bind="text: nowPlaying().username"></span> 
                <span data-bind="text: nowPlaying().playitem"></span> 
            </h1>
            <a href="#" data-bind="click: playNext">Play Next</a>
            <br><br>
            <a href="#" data-bind="click: queueItem">Queue New Item</a>
        </div>

        <ul data-bind="foreach: room().users">
            <li>
                <p data-bind="text: username"></p>
                <ul data-bind="foreach: playlist">
                    <li data-bind="text: playitem"></li>
                </ul>
            </li>
        </ul>

        <!-- /ko -->

        <script>
            PLY2GT4 = {
                'room': '{{ room }}',
                'username': '{{ username }}'
            };
        </script>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/2.2.0/knockout-min.js"></script>
        <script src="/static/js/app.js"></script>
    </body>
</html>
